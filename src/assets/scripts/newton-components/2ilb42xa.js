/*! Built with http://stenciljs.com */
const{h:e}=window.NewtonComponents;import{a as t,b as a}from"./chunk-0fe62cc8.js";const s=t||a;class l{constructor(){this.titleDateFormat="ddd, MMM DD"}render(){return e("div",{class:"cal-week-cell",onClick:()=>this.cellClick.emit({date:this.date,event:this.event})},e("div",{class:`cal-week-cell-title ${this.isToday?"today":""}`},this.title),e("div",{class:"cal-week-cell-event"},e("div",{class:"cal-week-cell-event-time"},this.event?s(this.date).format("hh:mm A"):""),e("div",{class:`cal-week-cell-event-divider ${this.event?"active":""}`}),e("div",{class:"cal-week-cell-event-container"},this.event?this.eventContainerHasEvent:this.eventContainerNoEvent)))}get title(){const t=s();if(this.isToday)return e("div",null,"Today ",e("span",{class:"cal-week-cell-title-bull"})," ",t.format(this.titleDateFormat)," ");const a=t.clone().add(1,"day");return s(this.date).isSame(a,"day")?e("div",null,"Tomorrow ",e("span",{class:"cal-week-cell-title-bull"})," ",a.format(this.titleDateFormat)," "):s(this.date).format(this.titleDateFormat)}get isToday(){if(!this.date)return!1;const e=s();return s(this.date).isSame(e,"day")}get eventContainerNoEvent(){return e("div",null,e("div",{class:"cal-week-cell-event-name empty"},"Nothing scheduled yet"),e("div",{class:"cal-week-cell-event-location empty"},"Tap to finds events for this day"))}get eventContainerHasEvent(){return e("div",null,e("div",{class:"cal-week-cell-event-name active"},this.event.name),e("div",{class:"cal-week-cell-event-location active"},this.event.location))}static get is(){return"newton-calendar-week-cell"}static get properties(){return{date:{type:"Any",attr:"date"},event:{type:"Any",attr:"event"},titleDateFormat:{type:String,attr:"title-date-format"}}}static get events(){return[{name:"cellClick",method:"cellClick",bubbles:!0,cancelable:!0,composed:!0}]}static get style(){return".cal-week-cell{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.cal-week-cell .cal-week-cell-title{padding:8px;font-weight:600;font-size:12px;color:gray}.cal-week-cell-title.today{color:var(--primary)}.cal-week-cell .cal-week-cell-title-bull{font-size:30px;line-height:8px;vertical-align:middle}.cal-week-cell .cal-week-cell-title-bull::before{content:'\\2022'}.cal-week-cell .cal-week-cell-event{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;padding-left:8px;padding-right:8px;border-top:1px solid;border-bottom:1px solid;min-height:80px}.cal-week-cell .cal-week-cell-event-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-flex:80;-ms-flex-positive:80;flex-grow:80}.cal-week-cell .cal-week-cell-event-time{-webkit-box-flex:20;-ms-flex-positive:20;flex-grow:20;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;font-weight:100;max-width:72px;min-width:72px}.cal-week-cell .cal-week-cell-event-divider{display:-webkit-box;display:-ms-flexbox;display:flex;margin:8px 16px;border-left:1px solid}.cal-week-cell-event-divider.active{border-left:1px var(--primary) solid}.cal-week-cell .cal-week-cell-event-divider-default{border-left:1px var(--grey) solid}.cal-week-cell-event-container .cal-week-cell-event-location{margin-top:8px}.cal-week-cell-event-name.empty{color:var(--light-grey)}.cal-week-cell-event-location.empty{color:var(--light-grey);font-size:12px;font-weight:100}.cal-week-cell-event-name.active{color:#000}.cal-week-cell-event-location.active{color:#000;font-size:12px;font-weight:100}"}}const n=t||a;class c{constructor(){this.shownavbuttons=!0,this.currDay=n()}watchData(){this.setWeekDays()}nextWeek(){this.currDay=this.currDay.clone().add(1,"week"),this.setWeekDays()}prevWeek(){this.currDay=this.currDay.clone().subtract(1,"week"),this.setWeekDays()}componentWillLoad(){this.setWeekDays()}render(){return e("div",null,this.shownavbuttons?e("div",{class:"cal-week-split-view nav-buttons-container"},e("button",{class:"helix--button-primary",onClick:()=>this.prevWeek()},e("slot",{name:"cal-prev"},"Prev")),e("button",{class:"helix--button-primary",onClick:()=>this.nextWeek()},e("slot",{name:"cal-next"},"Next"))):"",e("newton-calendar-week-view",{selectedDay:this.currDay,onOnSelectedDayChange:()=>this.changeDay(event)}),this.renderCells)}changeDay(e){this.currDay=e.detail,this.setWeekDays()}get renderCells(){return this.events.map(t=>e("newton-calendar-week-cell",{date:t.day,event:t.event}))}setWeekDays(){const e=this.currDay,t=this.currDay.clone().endOf("isoWeek"),a=[];let s=e;for(;s<=t;){const e=n(s.toDate()),t=this.data.filter(t=>e.isSame(n(t.day),"day"));if(0===t.length){const t={day:e,event:void 0};a.push(t)}else t.forEach(e=>{const t={day:n(e.day),event:e.event?e.event:void 0};a.push(t)});s=s.clone().add(1,"d")}this.events=a}static get is(){return"newton-calendar-week-split-view"}static get properties(){return{currDay:{state:!0},data:{type:"Any",attr:"data",watchCallbacks:["watchData"]},events:{state:!0},shownavbuttons:{type:Boolean,attr:"shownavbuttons"}}}static get style(){return".cal-week-split-view.nav-buttons-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding-left:8px;padding-bottom:8px;padding-right:8px}.cal-week-split-view.nav-buttons-container button{padding:5px 20px}"}}const i=t||a;class r{constructor(){this.selectedDay=i(),this.locale="en"}watchSelectedDay(){this.setWeekHeader()}selectDay(e){this.selectedDay=e,this.onSelectedDayChange.emit(e)}onLocaleUpdated(e){i.locale(e)}componentWillLoad(){this.onSelectedDayChange.emit(this.selectedDay),this.onLocaleUpdated(this.locale),this.setWeekHeader()}setWeekHeader(){const e=this.selectedDay.clone().startOf("isoWeek"),t=this.selectedDay.clone().endOf("isoWeek"),a=[];let s=e;for(;s<=t;)a.push(i(s.toDate())),s=s.clone().add(1,"d");this.columnHeaders=a}render(){return e("div",{class:"cal-week-view"},e("div",{class:"cal-cell-row cal-header"},this.columnHeaders.map(t=>e("div",{class:"cal-cell",onClick:()=>this.selectDay(t)},t.format("dd").toString().toUpperCase().substr(0,1),e("div",{class:"call-day-number-wrapper"},e("span",{class:`\n                    cal-day-number\n                    ${t.isSame(this.selectedDay,"day")?" cal-day-number-active":""}\n                  `},t.format("D")))))))}static get is(){return"newton-calendar-week-view"}static get properties(){return{columnHeaders:{state:!0},locale:{type:String,attr:"locale",watchCallbacks:["onLocaleUpdated"]},selectDay:{method:!0},selectedDay:{type:"Any",attr:"selected-day",mutable:!0,watchCallbacks:["watchSelectedDay"]}}}static get events(){return[{name:"onSelectedDayChange",method:"onSelectedDayChange",bubbles:!0,cancelable:!0,composed:!0}]}static get style(){return".cal-week-view .cal-header{text-align:center;font-weight:bolder;border-bottom:1px solid rgba(51,51,53,.25)}.cal-week-view .cal-cell-row:hover{background-color:var(--white)}.cal-week-view .cal-day-number{color:var(--light-gray);width:22px;height:22px;line-height:22px;text-align:center;display:inline-block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;pointer-events:none;font-size:12px;font-weight:300}.cal-week-view .cal-day-number-active{background:var(--primary);color:var(--white);border-radius:50%}.cal-week-view .cal-cell-row{display:-webkit-box;display:-ms-flexbox;-js-display:flex;display:flex;-webkit-box-pack:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly}.cal-week-view .cal-header .cal-cell{padding:5px 0;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:block;white-space:nowrap}.cal-week-view .cal-cell-row .cal-cell:hover,.cal-week-view .cal-cell.cal-has-events.cal-open{background-color:var(--white)}.cal-week-view .cal-cell{color:(--grey);font-weight:200;font-size:12px;float:left;-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;-js-display:flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch}.cal-week-view .call-day-number-wrapper{padding-top:5px}"}}export{l as NewtonCalendarWeekCell,c as NewtonCalendarWeekSplitView,r as NewtonCalendarWeekView};