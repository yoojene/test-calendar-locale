/*! Built with http://stenciljs.com */
const{h:t}=window.NewtonComponents;class e{constructor(){this.titleText="Connect to Apple Health",this.connectText="Connect",this.disconnectText="Disconnect",this.notAvailableText="Not available",this.promptOnDisconnect=!0,this.onConnected=(t=>{this.connected=t})}onServiceUpdated(){this.dispose(),!this.isServer&&this.service&&this.service.available().then(t=>this.update(t))}connect(){this.service.locked&&this.service.unlock(),this.service.connect()}refresh(){this.el.forceUpdate()}disconnect(t){!0!==t?this.service.lock():this.onDisconnectRequested.emit()}componentWillLoad(){this.onServiceUpdated()}update(t){this.available=t,this.available&&(this.available=!0,this.connected=this.service.connected,this.emitter=this.service.on("connected",this.onConnected))}dispose(){this.available=!1,this.connected=!1,this.emitter&&this.emitter.off("connected",this.onConnected)}render(){return t("div",{class:"container helix--health-connector"},t("div",{class:"image-container"},t("img",{class:"image",src:"assets/images/apple-health.png"})),t("div",{class:"title"},this.titleText),t("div",{class:"strap",hidden:!this.strapText},this.strapText),t("div",{class:"inner not-available",hidden:this.available},this.notAvailableText),t("div",{class:"inner available",hidden:!this.available},this.connected?t("button",{onClick:()=>this.disconnect(this.promptOnDisconnect),class:"helix--button disconnect-button"},this.disconnectText):t("button",{onClick:()=>this.connect(),class:"helix--button connect-button"},this.connectText)))}static get is(){return"newton-healthkit"}static get properties(){return{available:{state:!0},connect:{method:!0},connected:{state:!0},connectText:{type:String,attr:"connect-text"},disconnect:{method:!0},disconnectText:{type:String,attr:"disconnect-text"},el:{elementRef:!0},emitter:{state:!0},isServer:{context:"isServer"},notAvailableText:{type:String,attr:"not-available-text"},promptOnDisconnect:{type:Boolean,attr:"prompt-on-disconnect"},refresh:{method:!0},service:{type:"Any",attr:"service",watchCallbacks:["onServiceUpdated"]},strapText:{type:String,attr:"strap-text"},titleText:{type:String,attr:"title-text"}}}static get events(){return[{name:"onDisconnectRequested",method:"onDisconnectRequested",bubbles:!0,cancelable:!0,composed:!0}]}static get style(){return"newton-healthkit .container{text-align:center;padding:25px;background-color:var(--white)}newton-healthkit .title{font-size:2rem;font-weight:700;padding:15px 15px 30px}newton-healthkit .strap{font-size:1.5rem;color:var(--grey);padding:0 15px 30px}newton-healthkit .image-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}newton-healthkit .image{max-width:100%;height:auto}newton-healthkit .connect-button,newton-healthkit .disconnect-button{width:100%}"}}export{e as NewtonHealthkit};